{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../poll.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction PollsComponent_tr_13_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PollsComponent_tr_13_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.moveToPollPage());\n    });\n    i0.ɵɵtext(1, \"Go to poll\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PollsComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, PollsComponent_tr_13_button_7_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.poll_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r1.status === \"Active\");\n  }\n}\nexport class PollsComponent {\n  constructor(pollService, router) {\n    this.pollService = pollService;\n    this.router = router;\n  }\n  getData() {\n    return this.pollService.allPolls(this.allPolls).subscribe(response => {\n      this.response = response;\n      this.userData = this.response.rows;\n    });\n  }\n  moveToPollPage() {\n    return this.pollService.allPolls(this.allPolls).subscribe(response => {\n      for (let i = 0; i < 10; i++) {\n        if (this.response.rows[i].status === \"Active\") {\n          this.router.navigate(['/polls/' + (i + 1)]);\n        }\n      }\n      console.log(this.response.rows[0]);\n    });\n  }\n  //  getData(){\n  //     return this.http.get('http://localhost:3000/polls').subscribe((response) => {\n  //       this.response = response;\n  //       this.userData = this.response.rows;\n  //       //console.log(this.userData[0].poll_id )\n  //       //console.log(a)\n  //       //console.log(this.userData[a].status)\n  //       // this.userData[0].status\n  //       // for(let i =0; i<3; i++)\n  //       // {\n  //       //   var a= i.toString()\n  //       //   //console.log(this.userData[a].poll_id)\n  //       //   if(this.userData[a].status != \"Active\"){\n  //       //   this.b= this.userData[a].poll_id\n  //       //   }\n  //       //    //this.b=false;\n  //       // }\n  //       // for(let i =0; i<2; i++)\n  //       // {\n  //       //   var a= i.toString()\n  //       //   console.log(this.userData[a].status)\n  //       //   if(this.userData[a].status != \"Active\"){\n  //       //    console.log(\"working\") \n  //       //   // this.disableTheButton = true;\n  //       //    console.log(this.userData[a])\n  //       //   }\n  //       // }\n  //       // for(let i =0; i<10; i++)\n  //       // {\n  //       //   console.log(this.userData[\"0\"].status)\n  //       //   console.log(this.userData[\"1\"].status)\n  //       // }\n  //       // console.log(this.userData)\n  //       // if(this.userData[\"0\"].status != \"Active\"){\n  //       //    console.log(\"working\") \n  //       //    this.disableTheButton = true;\n  //       // }\n  //      })\n  //   }\n  ngOnInit() {\n    this.getData();\n  }\n}\nPollsComponent.ɵfac = function PollsComponent_Factory(t) {\n  return new (t || PollsComponent)(i0.ɵɵdirectiveInject(i1.PollService), i0.ɵɵdirectiveInject(i2.Router));\n};\nPollsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PollsComponent,\n  selectors: [[\"app-polls\"]],\n  decls: 14,\n  vars: 1,\n  consts: [[1, \"col-md-7\", \"m-5\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"btn btn-primary bg-warning\", \"type\", \"submit\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"bg-warning\", 3, \"click\"]],\n  template: function PollsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"body\")(2, \"div\", 0)(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\", 2);\n      i0.ɵɵtext(7, \"Poll Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\", 2);\n      i0.ɵɵtext(9, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 2);\n      i0.ɵɵtext(11, \"Status\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"tbody\");\n      i0.ɵɵtemplate(13, PollsComponent_tr_13_Template, 8, 4, \"tr\", 3);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.userData);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\".form-group[_ngcontent-%COMP%]\\n{\\n   padding: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vcG9sbHMvcG9sbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRyxZQUFZO0FBQ2YiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1ncm91cFxue1xuICAgcGFkZGluZzogOHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAkBUA,iCAAuH;IAA7BA;MAAAA;MAAA;MAAA,OAAWA,sCAAgB;IAAA,EAAC;IAACA,0BAAU;IAAAA,iBAAS;;;;;IAJ5IA,0BAAkC;IAC5BA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,2EAA0I;IAC5IA,iBAAK;;;;IAJCA,eAAgB;IAAhBA,qCAAgB;IAChBA,eAAoB;IAApBA,yCAAoB;IACpBA,eAAe;IAAfA,oCAAe;IACVA,eAA8B;IAA9BA,kDAA8B;;;ACRjD,OAAM,MAAOC,cAAc;EAK3BC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;EAAW;EAEvEC,OAAO;IACL,OAAO,IAAI,CAACF,WAAW,CAACG,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAI;MACrE,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MACxB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACD,QAAQ,CAACE,IAAI;IACpC,CAAC,CAAC;EACJ;EAEAC,cAAc;IACb,OAAO,IAAI,CAACR,WAAW,CAACG,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAI;MACpE,KAAI,IAAII,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,EAAE,EAACA,CAAC,EAAE,EAAC;QACnB,IAAG,IAAI,CAACJ,QAAQ,CAACE,IAAI,CAACE,CAAC,CAAC,CAACC,MAAM,KAAK,QAAQ,EAAC;UAC1C,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,SAAS,IAAEF,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;;;MAG5CG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EAECO,QAAQ;IACP,IAAI,CAACZ,OAAO,EAAE;EACf;;AA1EYJ,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT3BtB,4BAAM;MAOoBA,uBAAO;MAAAA,iBAAK;MAC5BA,6BAAgB;MAAAA,2BAAW;MAAAA,iBAAK;MAChCA,8BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAG/BA,8BAAO;MACLA,+DAKK;MACPA,iBAAQ;;;MANeA,gBAAW;MAAXA,sCAAW","names":["i0","PollsComponent","constructor","pollService","router","getData","allPolls","subscribe","response","userData","rows","moveToPollPage","i","status","navigate","console","log","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/prabhat.kumar/Documents/doc_train/day_11/bakend/polls-nestjs/frontend-angular/src/app/admin/polls/polls.component.html","/home/prabhat.kumar/Documents/doc_train/day_11/bakend/polls-nestjs/frontend-angular/src/app/admin/polls/polls.component.ts"],"sourcesContent":["<!DOCTYPE html>\n<html>\n\n<body>\n  <div class=\"col-md-7 m-5\">\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Poll Id</th>\n          <th scope=\"col\">Description</th>\n          <th scope=\"col\">Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let user of userData\">\n          <td>{{user.poll_id}}</td>\n          <td>{{user.description}}</td>\n          <td>{{user.status}}</td>\n          <button *ngIf=\"user.status === 'Active'\" class=\"btn btn-primary bg-warning\" type=\"submit\" (click) = \"moveToPollPage()\">Go to poll</button>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</body>\n\n</html>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!--Important-->\n<!-- <div class=\"container-sm my-5 p-5 border\">\n  <div class=\"row\">\n\n    <div class=\"col-md-6  mx-auto\">\n      <div class=\"card\" id=\"card1\">\n    \n        <div class=\"card-header bg-info\">\n          <h3>POLL</h3>\n        </div>\n  \n      \n        <div class=\"card-body\">\n          \n          <form>\n             <div  class=\"form-group\">\n                <label>What is your favourite colour?</label>\n             </div>\n\n              <div  class=\"form-group\">\n                 <label>Option1</label>\n                 <input type =\"radio\" value=\"option1\" name= \"options\">\n              </div>\n  \n             \n              <div  class=\"form-group\">\n                  <label>Option2</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n          \n               <div  class=\"form-group\">\n                  <label>Option3</label>\n                  <input type =\"radio\" value=\"option1\" name= \"options\">\n               </div>\n  \n           \n               <div  class=\"form-group\">\n                  <label>Option4</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n           \n               <div  class=\"form-group\">\n                  <label>Option5</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n                <div class=\"form-group\">\n                  <button class=\"btn btn-primary\" type=\"submit\">submit</button>\n               </div>\n  \n          </form>\n        </div>\n  \n      </div>\n    </div>\n\n\n  </div>\n</div> -->\n\n<!--Important-->\n\n<!-- <div class=\"container-sm my-5 p-5 border\">\n  <div class=\"row\">\n\n    <div class=\"col-md-6  mx-auto\">\n      <div class=\"card\" id=\"card1\">\n    \n        <div class=\"card-header bg-info\">\n          <h3>POLL</h3>\n        </div>\n  \n      \n        <div class=\"card-body\">\n          \n          <form>\n             <div  class=\"form-group\">\n                <label>What is your favourite colour?</label>\n             </div>\n\n              <div  class=\"form-group\">\n                 <label>Option1</label>\n                 <input type =\"radio\" value=\"option1\" name= \"options\">\n              </div>\n  \n             \n              <div  class=\"form-group\">\n                  <label>Option2</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n          \n               <div  class=\"form-group\">\n                  <label>Option3</label>\n                  <input type =\"radio\" value=\"option1\" name= \"options\">\n               </div>\n  \n           \n               <div  class=\"form-group\">\n                  <label>Option4</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n           \n               <div  class=\"form-group\">\n                  <label>Option5</label>\n                  <input type =\"radio\" value=\"option1\" name = \"options\">\n               </div>\n  \n                <div class=\"form-group\">\n                  <button class=\"btn btn-primary\" type=\"submit\">submit</button>\n               </div>\n  \n          </form>\n        </div>\n  \n      </div>\n    </div>\n\n\n  </div>\n</div> -->\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PollService } from '../poll.service';\n\n\n@Component({\n  selector: 'app-polls',\n  templateUrl: './polls.component.html',\n  styleUrls: ['./polls.component.css']\n})\nexport class PollsComponent {\n  response: any;\n  userData: any;\n  allPolls: any;\n\nconstructor(private pollService: PollService, private router: Router){ }\n\ngetData(){\n  return this.pollService.allPolls(this.allPolls).subscribe((response) =>{\n    this.response = response;\n    this.userData = this.response.rows;\n  })\n}\n\nmoveToPollPage(){\n return this.pollService.allPolls(this.allPolls).subscribe((response) =>{\n    for(let i=0;i<10;i++){\n      if(this.response.rows[i].status === \"Active\"){\n         this.router.navigate(['/polls/'+(i+1)]);\n      }\n    }\n    console.log(this.response.rows[0])\n  })\n}\n\n//  getData(){\n//     return this.http.get('http://localhost:3000/polls').subscribe((response) => {\n//       this.response = response;\n//       this.userData = this.response.rows;\n//       //console.log(this.userData[0].poll_id )\n//       //console.log(a)\n//       //console.log(this.userData[a].status)\n\n//       // this.userData[0].status\n\n//       // for(let i =0; i<3; i++)\n//       // {\n//       //   var a= i.toString()\n//       //   //console.log(this.userData[a].poll_id)\n//       //   if(this.userData[a].status != \"Active\"){\n//       //   this.b= this.userData[a].poll_id\n//       //   }\n//       //    //this.b=false;\n//       // }\n      \n     \n//       // for(let i =0; i<2; i++)\n//       // {\n//       //   var a= i.toString()\n//       //   console.log(this.userData[a].status)\n//       //   if(this.userData[a].status != \"Active\"){\n//       //    console.log(\"working\") \n//       //   // this.disableTheButton = true;\n//       //    console.log(this.userData[a])\n//       //   }\n//       // }\n\n//       // for(let i =0; i<10; i++)\n//       // {\n//       //   console.log(this.userData[\"0\"].status)\n//       //   console.log(this.userData[\"1\"].status)\n//       // }\n\n//       // console.log(this.userData)\n//       // if(this.userData[\"0\"].status != \"Active\"){\n//       //    console.log(\"working\") \n//       //    this.disableTheButton = true;\n//       // }\n\n//      })\n//   }\n\n ngOnInit(){\n  this.getData();\n }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}